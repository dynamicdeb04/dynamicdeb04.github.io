<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debjyoti Mitra | Portfolio</title>
    <link rel="icon" type="image/png" href="sc./logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the neon/hacker theme */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e0e0e0;
            background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.1) 1px, transparent 0);
            background-size: 20px 20px;
            overflow: hidden; /* Prevent body scroll */
        }

        .font-fira {
            font-family: 'Fira Code', monospace;
        }

        /* Neon glow effect for borders */
        .neon-border-cyan { box-shadow: 0 0 5px rgba(6, 182, 212, 0.8), 0 0 10px rgba(6, 182, 212, 0.6), 0 0 15px rgba(6, 182, 212, 0.4); }
        .neon-border-lime { box-shadow: 0 0 5px rgba(132, 204, 22, 0.8), 0 0 10px rgba(132, 204, 22, 0.6), 0 0 15px rgba(132, 204, 22, 0.4); }
        .neon-border-fuchsia { box-shadow: 0 0 5px rgba(217, 70, 239, 0.8), 0 0 10px rgba(217, 70, 239, 0.6), 0 0 15px rgba(217, 70, 239, 0.4); }
        .neon-border-blue { box-shadow: 0 0 5px rgba(59, 130, 246, 0.8), 0 0 10px rgba(59, 130, 246, 0.6), 0 0 15px rgba(59, 130, 246, 0.4); }

        .neon-text-cyan { text-shadow: 0 0 5px rgba(6, 182, 212, 0.8); }
        .neon-text-lime { text-shadow: 0 0 5px rgba(132, 204, 22, 0.8); }
        .neon-text-fuchsia { text-shadow: 0 0 5px rgba(217, 70, 239, 0.8); }
        .neon-text-blue { text-shadow: 0 0 5px rgba(59, 130, 246, 0.8); }

        /* Styling for the draggable windows */
        .window {
            position: absolute;
            border: 1px solid;
            background-color: rgba(17, 24, 39, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 0.75rem;
            min-width: 320px;
            display: none; /* Hidden by default */
            resize: both;
            overflow: hidden;
        }

        .window.active { display: block; }

        .title-bar { padding: 0.5rem; cursor: move; user-select: none; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid; }
        .title-bar-buttons { display: flex; gap: 0.5rem; }
        .title-bar-btn { width: 12px; height: 12px; border-radius: 50%; }
        .close-btn { background-color: #ff5f56; }
        .min-btn { background-color: #ffbd2e; }
        .max-btn { background-color: #27c93f; }

        .content { padding: 1rem; height: calc(100% - 41px); overflow-y: auto; }
        
        /* Custom scrollbar */
        .content::-webkit-scrollbar, .chat-messages::-webkit-scrollbar { width: 8px; }
        .content::-webkit-scrollbar-track, .chat-messages::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 10px; }
        .content::-webkit-scrollbar-thumb, .chat-messages::-webkit-scrollbar-thumb { background: #888; border-radius: 10px; }
        .content::-webkit-scrollbar-thumb:hover, .chat-messages::-webkit-scrollbar-thumb:hover { background: #555; }

        /* Terminal typing effect */
        .line { white-space: pre-wrap; margin: 0; }
        .cursor { display: inline-block; width: 10px; height: 1.2em; background-color: #a7f3d0; animation: blink 1s step-end infinite; }
        @keyframes blink { from, to { background-color: transparent } 50% { background-color: #a7f3d0; } }

        /* macOS Dock Styles */
        .dock { position: fixed; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; align-items: flex-end; gap: 12px; padding: 10px; background: rgba(30, 30, 30, 0.4); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px); border-radius: 1.25rem; border: 1px solid rgba(255, 255, 255, 0.1); z-index: 1000; }
        .dock-item { position: relative; width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94); }
        .dock-item img, .dock-item svg { width: 100%; height: 100%; transition: transform 0.2s ease; }
        .dock-item:hover { transform: translateY(-10px) scale(1.2); }
        .dock-item:hover .dock-item-icon { box-shadow: 0 0 15px rgba(59, 130, 246, 0.8), 0 0 25px rgba(59, 130, 246, 0.6); border-color: rgba(59, 130, 246, 0.8); }
        .dock-item-icon { width: 56px; height: 56px; background-color: rgba(17, 24, 39, 0.9); border-radius: 0.75rem; display: flex; align-items: center; justify-content: center; border: 1px solid transparent; transition: all 0.2s ease; }
        .tooltip { position: absolute; bottom: 120%; left: 50%; transform: translateX(-50%); background-color: #1f2937; color: white; padding: 5px 10px; border-radius: 6px; font-size: 12px; white-space: nowrap; opacity: 0; visibility: hidden; transition: opacity 0.2s ease, visibility 0.2s ease; pointer-events: none; }
        .dock-item:hover .tooltip { opacity: 1; visibility: visible; }

        /* AI Chat Styles */
        .chat-container { display: flex; flex-direction: column; height: 100%; }
        .chat-messages { flex-grow: 1; overflow-y: auto; padding-right: 10px; }
        .chat-message { max-width: 80%; padding: 0.5rem 0.75rem; border-radius: 0.75rem; margin-bottom: 0.5rem; line-height: 1.4; }
        .user-message { background-color: #2563eb; color: white; align-self: flex-end; margin-left: auto; }
        .ai-message { background-color: #374151; color: #e5e7eb; align-self: flex-start; }
        .typing-indicator { align-self: flex-start; margin-bottom: 0.5rem; }
        .typing-indicator span { display: inline-block; width: 8px; height: 8px; border-radius: 50%; background-color: #9ca3af; animation: typing-blink 1.4s infinite both; }
        .typing-indicator span:nth-child(2) { animation-delay: 0.2s; }
        .typing-indicator span:nth-child(3) { animation-delay: 0.4s; }
        @keyframes typing-blink { 0% { opacity: 0.2; } 20% { opacity: 1; } 100% { opacity: 0.2; } }
    </style>
</head>
<body class="w-screen h-screen">

    <!-- Existing Windows -->
    <div id="about-window" class="window border-cyan-400 neon-border-cyan" style="top: 10%; left: 15%; width: 450px; height: 300px;">
        <div class="title-bar border-cyan-400">
             <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="about-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-cyan-300">Executing: about_me.sh</span>
        </div><div class="content font-fira"><div id="terminal"></div></div>
    </div>
    <div id="education-window" class="window border-lime-400 neon-border-lime" style="top: 20%; left: 45%; width: 350px; height: 250px;">
        <div class="title-bar border-lime-400">
            <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="education-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-lime-300">File: education.txt</span>
        </div>
        <div class="content"><h3 class="text-xl font-bold text-lime-300 neon-text-lime mb-4">Education</h3><div class="mb-4"><p class="font-bold">VIT Bhopal University</p><p class="text-sm text-gray-300">B.Tech in Computer Science & Engineering (Core)</p></div><div><p class="font-bold">D.A.V. Model School, Durgapur</p><p class="text-sm text-gray-300">Higher Secondary (PCMB)</p></div></div>
    </div>
    <div id="skills-window" class="window border-cyan-400 neon-border-cyan" style="top: 50%; left: 5%; width: 350px; height: 200px;">
        <div class="title-bar border-cyan-400">
            <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="skills-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-cyan-300">Log: skills.log</span>
        </div>
        <div class="content"><h3 class="text-xl font-bold text-cyan-300 neon-text-cyan mb-4">Languages & Skills</h3><div class="flex flex-wrap gap-2"><span class="bg-cyan-900/50 text-cyan-300 px-3 py-1 rounded-full text-sm">C++</span><span class="bg-cyan-900/50 text-cyan-300 px-3 py-1 rounded-full text-sm">HTML</span><span class="bg-cyan-900/50 text-cyan-300 px-3 py-1 rounded-full text-sm">CSS</span><span class="bg-cyan-900/50 text-cyan-300 px-3 py-1 rounded-full text-sm">JavaScript</span><span class="bg-cyan-900/50 text-cyan-300 px-3 py-1 rounded-full text-sm">MySQL</span></div></div>
    </div>
    <div id="experience-window" class="window border-lime-400 neon-border-lime" style="top: 60%; left: 35%; width: 380px; height: 200px;">
        <div class="title-bar border-lime-400">
            <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="experience-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-lime-300">Process: experience.pid</span>
        </div>
        <div class="content"><h3 class="text-xl font-bold text-lime-300 neon-text-lime mb-4">Experience</h3><div><p class="font-bold">Self-Employed</p><p class="text-sm text-gray-300">Developing personal projects and exploring new technologies.</p></div></div>
    </div>
    <div id="clubs-window" class="window border-cyan-400 neon-border-cyan" style="top: 15%; left: 65%; width: 400px; height: 350px;">
        <div class="title-bar border-cyan-400">
            <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="clubs-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-cyan-300">Directory: /clubs/</span>
        </div>
        <div class="content"><h3 class="text-xl font-bold text-cyan-300 neon-text-cyan mb-4">Extracurricular Activities</h3><div class="mb-4"><h4 class="font-semibold text-gray-200 mb-2">Technical Clubs</h4><ul class="list-disc list-inside text-sm text-gray-300 space-y-1"><li>Vitronix Club</li><li>Photography Club</li><li>Insights Club</li><li>Metaversity Club</li></ul></div><div><h4 class="font-semibold text-gray-200 mb-2">Non-Technical Clubs</h4><ul class="list-disc list-inside text-sm text-gray-300 space-y-1"><li>Marathi Club</li><li>Bengali Club</li><li>Gujarati Club</li></ul></div></div>
    </div>
    <div id="contact-window" class="window border-lime-400 neon-border-lime" style="top: 55%; left: 60%; width: 400px; height: 250px;">
        <div class="title-bar border-lime-400">
            <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="contact-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-lime-300">Network: contact.info</span>
        </div>
        <div class="content"><h3 class="text-xl font-bold text-lime-300 neon-text-lime mb-4">Contact Me</h3><div class="space-y-3"><p><span class="font-bold">Email:</span> <a href="mailto:debjyoti0800@gmail.com" class="text-lime-400 hover:underline">debjyoti0800@gmail.com</a></p><p><span class="font-bold">LinkedIn:</span> <a href="https://www.linkedin.com/in/debjyoti-mitra-732354249" target="_blank" class="text-lime-400 hover:underline">Debjyoti Mitra</a></p><p><span class="font-bold">Instagram:</span> <a href="https://www.instagram.com/the_decrypteddeb?igsh=ZGkyNXIya2d3NGFn" target="_blank" class="text-lime-400 hover:underline">@the_decrypteddeb</a></p></div></div>
    </div>
    <div id="ai-chat-window" class="window border-fuchsia-500 neon-border-fuchsia" style="top: 10%; left: 30%; width: 450px; height: 550px;">
        <div class="title-bar border-fuchsia-500">
            <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="ai-chat-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-fuchsia-300">✨ AI Chatbot ✨</span>
        </div>
        <div class="content"><div class="chat-container"><div id="chat-messages" class="chat-messages"></div><div id="typing-indicator" class="typing-indicator hidden"><span></span><span></span><span></span></div><form id="ai-chat-form" class="mt-4 flex gap-2"><input type="text" id="chat-input" class="flex-grow bg-gray-800 border border-fuchsia-500 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-fuchsia-400" placeholder="Ask about my skills..." autocomplete="off"><button type="submit" class="bg-fuchsia-600 hover:bg-fuchsia-500 text-white font-bold py-2 px-4 rounded-lg transition-colors">Send</button></form></div></div>
    </div>

    <!-- ✨ New Projects Window ✨ -->
    <div id="projects-window" class="window border-blue-500 neon-border-blue" style="top: 45%; left: 25%; width: 480px; height: 400px;">
        <div class="title-bar border-blue-500">
            <div class="title-bar-buttons"><div class="title-bar-btn close-btn" data-window="projects-window"></div><div class="title-bar-btn min-btn"></div><div class="title-bar-btn max-btn"></div></div><span class="font-fira text-blue-300">Folder: /home/debjyoti/projects</span>
        </div>
        <div class="content">
            <h3 class="text-xl font-bold text-blue-300 neon-text-blue mb-4">My Projects</h3>
            <div class="space-y-6">
                <!-- Project 1 -->
                <div>
                    <h4 class="font-bold text-lg text-gray-100">Interactive Portfolio Website</h4>
                    <p class="text-sm text-gray-400 mt-1 mb-2">A dynamic portfolio integrated with Gemini AI Chatbot and API key genrated by Gemini.</p>
                    <div class="flex flex-wrap gap-2"><span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-xs">HTML5</span><span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-xs">Tailwind CSS</span><span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-xs">JavaScript</span><span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-xs">Gemini API</span></div>
                </div>
                <!-- Project 2 -->
                <div>
                    <h4 class="font-bold text-lg text-gray-100">Aurumbill- Gold Manageent System</h4>
                    <p class="text-sm text-gray-400 mt-1 mb-2">An interactive website on dealers end that helps in manageing jewellery, calculate the gold rate, make bills show the live gold rate and calculate the cash memo on the set making charges.</p>
                    <div class="flex flex-wrap gap-2"><span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-xs">Python</span><span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-xs">TailwindCSS</span><span class="bg-blue-900/50 text-blue-300 px-3 py-1 rounded-full text-xs">Deep Learning</span></div>
                </div>
        
               
            </div>
        </div>
    </div>

    <!-- Dock -->
    <div class="dock">
        <div class="dock-item" data-window="about-window"><div class="tooltip">About Me</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#a7f3d0" viewBox="0 0 256 256"><path d="M52,44H204a12,12,0,0,1,12,12V192a12,12,0,0,1-12,12H52a12,12,0,0,1-12-12V56A12,12,0,0,1,52,44Zm22.63,68a8,8,0,0,0-11.31,11.31L84.69,144,63.31,165.37a8,8,0,0,0,11.32,11.32L96,155.31l20.37,20.38a8,8,0,0,0,11.32-11.32L107.31,144l21.38-21.37a8,8,0,0,0-11.32-11.32L96,132.69Z"></path></svg></div></div>
        <div class="dock-item" data-window="education-window"><div class="tooltip">Education</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#a7f3d0" viewBox="0 0 256 256"><path d="M240,88H16.14a8,8,0,0,0-7.07,4.42L.25,108.64a8,8,0,0,0,7.07,11.58H248.68a8,8,0,0,0,7.07-11.58l-8.82-16.22A8,8,0,0,0,240,88ZM216,72V64a16,16,0,0,0-16-16H56A16,16,0,0,0,40,64v8Z" opacity="0.2"></path><path d="M240,80H16.14a16.06,16.06,0,0,0-14.15,8.84l-8.82,16.22a16,16,0,0,0,14.15,23.16H248.68a16,16,0,0,0,14.15-23.16l-8.82-16.22A16.06,16.06,0,0,0,240,80Zm-24,64H40V64a8,8,0,0,1,8-8H208a8,8,0,0,1,8,8Zm40-48.88-8.82,16.22a8,8,0,0,1-7.07,4.42H16.14a8,8,0,0,1-7.07-4.42L.25,95.12a8,8,0,0,1,7.07-11.58h241.36a8,8,0,0,1,7.07,11.58ZM216,208H40a16,16,0,0,0-16,16,8,8,0,0,0,16,0,8,8,0,0,1,8-8H208a8,8,0,0,1,8,8,8,8,0,0,0,16,0A16,16,0,0,0,216,208Z"></path></svg></div></div>
        <div class="dock-item" data-window="skills-window"><div class="tooltip">Skills</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#a7f3d0" viewBox="0 0 256 256"><path d="M228,88.49a16,16,0,0,0-23.31-2.82l-88,73.34L80.08,124.8a16,16,0,0,0-22.56,22.56l48,48a16,16,0,0,0,22.56,0l104-86.67A16,16,0,0,0,228,88.49ZM102.63,182.63l-35.32-35.32a8,8,0,0,1,11.32-11.32L114,171.31,208.69,91.31a8,8,0,0,1,11.65,1.41,8,8,0,0,1-1.42,11.66Z"></path></svg></div></div>
        <div class="dock-item" data-window="projects-window"><div class="tooltip">Projects</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#60a5fa" viewBox="0 0 256 256"><path d="M216,72H136V64a8,8,0,0,0-8-8H40a8,8,0,0,0-8,8V192a8,8,0,0,0,8,8H216a8,8,0,0,0,8-8V80A8,8,0,0,0,216,72ZM128,72v8H48V72Zm88,120H48V88h80v8a8,8,0,0,0,8,8h72Z"></path></svg></div></div>
        <div class="dock-item" data-window="experience-window"><div class="tooltip">Experience</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#a7f3d0" viewBox="0 0 256 256"><path d="M208,32H48A16,16,0,0,0,32,48V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V48A16,16,0,0,0,208,32Zm0,176H48V48H208V208ZM184,88a12,12,0,1,1-12-12A12,12,0,0,1,184,88Z"></path></svg></div></div>
        <div class="dock-item" data-window="clubs-window"><div class="tooltip">Clubs</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#a7f3d0" viewBox="0 0 256 256"><path d="M128,24a104,104,0,1,0,104,104A104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm48-88a48,48,0,1,1-48-48A48.05,48.05,0,0,1,176,128Zm-48-32a32,32,0,1,0,32,32A32,32,0,0,0,128,96Z"></path></svg></div></div>
        <div class="dock-item" data-window="contact-window"><div class="tooltip">Contact</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#a7f3d0" viewBox="0 0 256 256"><path d="M224,48H32A16,16,0,0,0,16,64V192a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V64A16,16,0,0,0,224,48Zm-8.45,16L128,122.8,39.45,64ZM32,192V72.91l92.34,69.25a8,8,0,0,0,9.32,0L224,72.91V192Z"></path></svg></div></div>
        <div class="dock-item" data-window="ai-chat-window"><div class="tooltip">Ask AI</div><div class="dock-item-icon"><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#d946ef" viewBox="0 0 256 256"><path d="M208,80H176V56a48,48,0,0,0-96,0V80H48A16,16,0,0,0,32,96V208a16,16,0,0,0,16,16H208a16,16,0,0,0,16-16V96A16,16,0,0,0,208,80Zm-80-24a32,32,0,0,1,64,0V80H96ZM96,128a16,16,0,1,1-16,16A16,16,0,0,1,96,128Zm80,32a16,16,0,1,1,16-16A16,16,0,0,1,176,160Z"></path></svg></div></div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Draggable Window Functionality ---
            const windows = document.querySelectorAll('.window');
            let maxZIndex = 100;
            windows.forEach(windowEl => {
                const titleBar = windowEl.querySelector('.title-bar');
                const bringToFront = () => { maxZIndex++; windowEl.style.zIndex = maxZIndex; };
                windowEl.addEventListener('mousedown', bringToFront);
                if (titleBar) {
                    titleBar.addEventListener('mousedown', (e) => {
                        if (e.target.classList.contains('title-bar-btn')) return;
                        bringToFront();
                        let offsetX = e.clientX - windowEl.offsetLeft;
                        let offsetY = e.clientY - windowEl.offsetTop;
                        const moveWindow = (moveEvent) => {
                            windowEl.style.left = `${moveEvent.clientX - offsetX}px`;
                            windowEl.style.top = `${moveEvent.clientY - offsetY}px`;
                        };
                        const stopMove = () => {
                            document.removeEventListener('mousemove', moveWindow);
                            document.removeEventListener('mouseup', stopMove);
                        };
                        document.addEventListener('mousemove', moveWindow);
                        document.addEventListener('mouseup', stopMove);
                    });
                }
            });

            // --- Window Controls (Close/Open from Dock) ---
            const dockItems = document.querySelectorAll('.dock-item');
            const closeButtons = document.querySelectorAll('.close-btn');
            dockItems.forEach(item => {
                item.addEventListener('click', () => {
                    const windowId = item.getAttribute('data-window');
                    const windowEl = document.getElementById(windowId);
                    if (windowEl) {
                        windowEl.classList.add('active');
                        maxZIndex++;
                        windowEl.style.zIndex = maxZIndex;
                    }
                });
            });
            closeButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const windowId = button.getAttribute('data-window');
                    const windowEl = document.getElementById(windowId);
                    if (windowEl) windowEl.classList.remove('active');
                });
            });

            // --- Terminal Typing Effect ---
            const terminal = document.getElementById('terminal');
            const lines = [
                { text: '$ whoami', speed: 50, color: 'text-lime-300' },
                { text: 'debjyoti_mitra', speed: 30, color: 'text-white' },
                { text: '$ cat ./bio.txt', speed: 50, color: 'text-lime-300' },
                { text: '> Hello! I\'m Debjyoti Mitra, a CSE student with a passion for building things.', speed: 40, color: 'text-white' },
                { text: '> I thrive on solving complex problems and enjoy exploring the intersection of technology and creativity.', speed: 40, color: 'text-white' },
                { text: '$ ls ./interests', speed: 50, color: 'text-lime-300' },
                { text: 'coding photography open-source community-building', speed: 30, color: 'text-cyan-300' },
                { text: '$ <span class="cursor"></span>', speed: 50, color: 'text-lime-300' }
            ];
            let lineIndex = 0;
            function typeLine() {
                if (lineIndex >= lines.length) return;
                const currentLine = lines[lineIndex];
                const lineEl = document.createElement('p');
                lineEl.className = `line ${currentLine.color}`;
                terminal.appendChild(lineEl);
                let charIndex = 0;
                function typeChar() {
                    if (charIndex < currentLine.text.length) {
                        lineEl.innerHTML += currentLine.text.charAt(charIndex);
                        charIndex++;
                        setTimeout(typeChar, currentLine.speed);
                    } else {
                        lineIndex++;
                        setTimeout(typeLine, 500);
                    }
                }
                typeChar();
            }
            
            // --- Gemini AI Chat Functionality ---
            const chatForm = document.getElementById('ai-chat-form');
            const chatInput = document.getElementById('chat-input');
            const chatMessages = document.getElementById('chat-messages');
            const typingIndicator = document.getElementById('typing-indicator');
            
            const portfolioContext = `You are a friendly and professional AI Chatbt for Debjyoti Mitra. Your goal is to answer questions from visitors (like recruiters) based on his portfolio information. Be helpful and highlight his strengths. Here is Debjyoti Mitra's information: - Name: Debjyoti Mitra - Education: B.Tech in Computer Science & Engineering (Core) at VIT Bhopal University. High School at D.A.V. Model School, Durgapur. - Skills: C++, HTML, CSS, JavaScript, MySQL. - Experience: Self-Employed, focused on personal projects and learning new technologies. - Projects: 1. Interactive Portfolio: A dynamic, macOS-style personal portfolio with draggable windows and an integrated AI chatbot powered by the Gemini API (Tech: HTML5, Tailwind CSS, JavaScript, Gemini API). 2. Console-Based Banking System: A command-line application for basic banking operations (Tech: C++, OOP, File I/O). 3. Student Record Management: A database project to manage student records (Tech: MySQL, Database Design, SQL Queries). - Extracurriculars: - Technical Clubs (Core Member): Vitronix Club, Photography Club, Insights Club, Metaversity Club. - Non-Technical Clubs: Marathi Club, Bengali Club, Gujarati Club. - Contact: Email at debjyoti0800@gmail.com, LinkedIn is 'Debjyoti-Mitra', Instagram is '@the_decrypteddeb'. Start the conversation by introducing yourself and offering to answer questions about Debjyoti. Keep your answers concise and relevant to the provided information.`;
            let chatHistory = [{ role: "user", parts: [{ text: portfolioContext }] }];

            const addMessage = (text, sender) => {
                const messageEl = document.createElement('div');
                messageEl.classList.add('chat-message', sender === 'user' ? 'user-message' : 'ai-message');
                messageEl.textContent = text;
                chatMessages.appendChild(messageEl);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            };

            const callGeminiAPI = async () => {
                typingIndicator.classList.remove('hidden');
                chatInput.disabled = true;
                const apiKey = ""; // API key is handled by the environment
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
                let retries = 3, delay = 1000;
                while (retries > 0) {
                    try {
                        const response = await fetch(apiUrl, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify({ contents: chatHistory }) });
                        if (!response.ok) throw new Error(`API request failed with status ${response.status}`);
                        const result = await response.json();
                        if (result.candidates && result.candidates[0]?.content?.parts?.length > 0) {
                            const aiResponse = result.candidates[0].content.parts[0].text;
                            addMessage(aiResponse, 'ai');
                            chatHistory.push({ role: "model", parts: [{ text: aiResponse }] });
                        } else { addMessage("Sorry, I couldn't generate a response. The structure was unexpected.", 'ai'); }
                        break;
                    } catch (error) {
                        console.error("Error calling Gemini API:", error);
                        retries--;
                        if (retries === 0) { addMessage("Sorry, I'm having trouble connecting. Please try again later.", 'ai'); } 
                        else { await new Promise(res => setTimeout(res, delay)); delay *= 2; }
                    }
                }
                typingIndicator.classList.add('hidden');
                chatInput.disabled = false;
                chatInput.focus();
            };

            chatForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const userMessage = chatInput.value.trim();
                if (!userMessage) return;
                addMessage(userMessage, 'user');
                chatHistory.push({ role: "user", parts: [{ text: userMessage }] });
                chatInput.value = '';
                callGeminiAPI();
            });

            addMessage("Hello! I'm an AI Chatbot for Debjyoti. Feel free to ask me anything about his skills, projects, or experience!", 'ai');
            chatHistory.push({ role: "model", parts: [{ text: "Hello! I'm an AI Chatbot for Debjyoti. Feel free to ask me anything about his skills, projects, or experience!" }] });

            // --- Initially open some windows ---
            document.getElementById('about-window').classList.add('active');
            document.getElementById('education-window').classList.add('active');
            document.getElementById('projects-window').classList.add('active');
            
            setTimeout(typeLine, 500);
        });
    </script>
</body>
</html>

